<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0d6efd" />
  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("service-worker.js")
        .then(() => console.log("Service Worker registered!"))
        .catch((err) => console.log("Service Worker registration failed:", err));
    }
  </script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Attendance System</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    .welcome-card {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
    }
    .feature-card {
      transition: transform 0.3s ease;
      border: none;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    .feature-card:hover { transform: translateY(-5px); }
    .step-number {
      width: 40px; height: 40px; background: #0d6efd; color: white;
      border-radius: 50%; display: flex; align-items: center;
      justify-content: center; font-weight: bold; margin-right: 15px;
    }
    .qr-container {
      background: white; padding: 30px; border-radius: 15px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1); margin: 20px 0;
    }
    .scanner-section {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      color: white; border-radius: 15px;
    }
    .qr-code {
      border: 3px solid #0d6efd; border-radius: 10px;
      padding: 10px; background: white; display: inline-block;
    }
    .debug-info {
      background: #f8f9fa; padding: 10px; border-radius: 5px;
      margin-top: 10px; font-size: 0.8rem;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-10">

        <!-- Welcome Card -->
        <div class="card welcome-card mt-4">
          <div class="card-body text-center py-5">
            <h1 class="display-4 mb-3">üè¢ Company Attendance System</h1>
            <p class="lead mb-4">Smart QR-based attendance tracking with location verification</p>

            <div class="row">
              <div class="col-md-6 mb-3">
                <a href="register.html" class="btn btn-light btn-lg w-100">
                  <i class="fas fa-user-plus me-2"></i>Create Account
                </a>
              </div>
              <div class="col-md-6 mb-3">
                <a href="login.html" class="btn btn-outline-light btn-lg w-100">
                  <i class="fas fa-sign-in-alt me-2"></i>Login
                </a>
              </div>
            </div>

            <!-- Debug info -->
            <div class="debug-info text-start mt-3">
              <strong>Debug Info:</strong><br>
              Base URL: <span id="baseUrl">N/A</span><br>
              Has Device Cookie: <span id="hasCookie">N/A</span><br>
              Device ID: <span id="deviceId">N/A</span>
            </div>
          </div>
        </div>

        <!-- QR Code Scanner Section -->
        <div class="card scanner-section mt-4">
          <div class="card-body text-center py-4">
            <h3 class="mb-4"><i class="fas fa-qrcode me-2"></i>Quick Attendance Scanner</h3>

            <div class="qr-container">
              <h5 class="text-dark mb-3">Scan to Mark Attendance</h5>
              <div class="qr-code mb-3">
                <img id="companyQr" src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=https://example.com/scanner" 
                     alt="QR Code" class="img-fluid">
              </div>
              <p class="text-muted mb-0"><small>Scan this code to open the attendance scanner</small></p>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <script>
    // Example placeholders for debugging info
    document.getElementById('baseUrl').textContent = window.location.origin;
    document.getElementById('hasCookie').textContent = document.cookie ? "Yes" : "No";
    document.getElementById('deviceId').textContent = localStorage.getItem('device_id') || "Not Assigned";
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
